
pipeline {

 agent any
   stages {
       stage("git")
       {
	     steps
	         {
                 git credentialsId: 'github', url: 'https://github.com/subhpanda/myweb.git'
		 }
	} 
	stage("maven")
        {
	      steps
	       {
                   sh 'mvn clean package'
		   sh "mv target/*.war  target/myweb.war "
               }
	} 
	stage("test")
        {
	      steps
	      {
                   sshagent(['centos']) 
		        {
                          sh """
			  
			  scp  -o StrictHostKeyChecking=no target/myweb.war
			  
			  
			  
			  """
                        }
               }
	}
   
   }

}
